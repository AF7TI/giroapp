<!doctype html>

<head>

<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<link type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet" />
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

<script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.12.1/d3.js"></script>

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css"/>
 
<script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/scroller/1.5.1/css/scroller.dataTables.min.css"/>

<script type="text/javascript" src="https://cdn.datatables.net/scroller/1.5.1/js/dataTables.scroller.min.js"></script>

</head>

<body>

 <div>
      <table id="stations" class="display compact nowrap" cellspacing="0" style="width:100%">
        <thead>
            <tr>
                <th>Time</th>
                <th>Station</th>
                <th>MUFD</th>
                <th>TEC</th>
                <th>foF2</th>
                <th>foF1</th>
                <th>foE</th>
                <th>hmF2</th>
                <th>hF2</th>
                <th>yF2</th>
                <th>hmF1</th>
                <th>yF1</th>
                <th>hmE</th>
                <th>Altitude</th>
                <th>CS</th>
                </tr>
        </thead>
    </table>
</div>
</p>
</div>

<script>
$(document).ready(function() {
    $('a[data-toggle="tab"]').on( 'shown.bs.tab', function (e) {
        $.fn.dataTable.tables( {visible: true, api: true} ).columns.adjust();
    } );
    var table = $('#stations').DataTable( {
        "ajax": {'url': document.location + 'stations.json', "dataSrc":""} ,
        // "data": tableData,
        //"paging": false,
        //"bFilter": false,
        "bPaginate": false,
        //"lengthMenu": [20, 40, 60, 80, 100],
        //"pageLength": 20,
        //"colReorder": true,
        //"stateSave": true,
        "responsive": true,
        "order": [[ 0, "desc" ]],
        //"scrollX": false,
        //"scrollY":        500,
        //"deferRender":    true,
        //"scroller":       true,
        //"scrollY":        "400px",
        //"scrollCollapse": true,
        "columns": [
            { "data": "time" },
            { "data": "station.name" },
            { "data": "mufd" },
            { "data": "tec" },
            { "data": "fof2" },
            { "data": "fof1" },
            { "data": "foe" },
            { "data": "hmf2" },
            { "data": "hf2" },
            { "data": "yf2" },
            { "data": "hmf1" },
            { "data": "yf1" },
            { "data": "hme" },
            { "data": "altitude" },
            { "data": "cs" }
        ]
    } );
setInterval( function () {
    console.log('reload table');
    table.ajax.reload( null, false ); // user paging is not reset on reload
}, 60000 );
} );
</script>
</body>
</html>
