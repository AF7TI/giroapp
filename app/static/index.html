
<!doctype html>

<head>

<meta name="viewport" content="width=device-width, initial-scale=1">

<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.18/cr-1.5.0/r-2.2.2/datatables.min.css"/>
 
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.18/cr-1.5.0/r-2.2.2/datatables.min.js"></script>

</head>

<body>

 <div>
      <table id="stations" class="display compact nowrap row-border" cellspacing="0" style="width:100%">
        <thead>
            <tr>
                <th>Time</th>
                <th>Station</th>
                <th>MUFD</th>
                <th>TEC</th>
                <th>foF2</th>
                <th>foF1</th>
                <th>foE</th>
                <th>hmF2</th>
                <th>hF2</th>
                <th>yF2</th>
                <th>hmF1</th>
                <th>yF1</th>
                <th>hmE</th>
                <th>Sun Alt</th>
                <th>Confidence</th>
                <th>Longitude</th>
                <th>Latitude</th>
                </tr>
        </thead>
    </table>
</div>
</p>
</div>

<script>
$(document).ready(function() {
    $('a[data-toggle="tab"]').on( 'shown.bs.tab', function (e) {
        $.fn.dataTable.tables( {visible: true, api: true} ).columns.adjust();
    } );
    var table = $('#stations').DataTable( {
        "ajax": {'url': document.location + 'stations.json', "dataSrc":""} ,
        // "data": tableData,
        //"paging": false,
	//"bFilter": false,
	"bPaginate": false,
        //"lengthMenu": [20, 40, 60, 80, 100],
        //"pageLength": 20,
        "colReorder": true,
        //"stateSave": true,
        "responsive": true,
	"order": [[ 0, "desc" ]],
        //"scrollX": false,
        //"scrollY":        500,
	//"deferRender":    true,
	//"scroller":       true,
	//"scrollY":        "400px",
        //"scrollCollapse": true,
	"columns": [
            { "data": "time" },
            { "data": "station.name" },
            { "data": "mufd" },
            { "data": "tec" },
            { "data": "fof2" },
            { "data": "fof1" },
            { "data": "foe" },
	           { "data": "hmf2" },
            { "data": "hf2" },
            { "data": "yf2" },
            { "data": "hmf1" },
            { "data": "yf1" },
            { "data": "hme" },
            { "data": "altitude" },
            { "data": "cs" },
            { "data": "station.longitude" },
            { "data": "station.latitude" }
        ]
    } );
setInterval( function () {
    console.log('reload table');
    table.ajax.reload( null, false ); // user paging is not reset on reload
}, 60000 );
} );
</script>
</body>
</html>
